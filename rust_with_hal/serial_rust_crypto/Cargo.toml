[package]
name = "serial_rust_crypto"
version = "0.1.0"
authors = ["Yusef Karim <yusefkarim@riseup.net>"]
edition = "2018"

[dependencies]
# Provides panic handler for halting the CPU
# https://docs.rs/crate/panic-halt/0.2.0
panic-halt = "0.2.0"

# Provides startup code and useful attributes
# https://docs.rs/cortex-m-rt/0.6.12/cortex_m_rt/
cortex-m-rt = "0.6.12"

# Provides low-level access to registers and assembly instructions
# https://docs.rs/cortex-m/0.6.3/cortex_m/
cortex-m = "0.6.3"

# Autogenerated API for the STM32F4 peripherals
# https://docs.rs/crate/stm32f4/0.11.0
# stm32f4 = {version = "0.11.0", features = ["stm32f401", "rt"]}

# Device hardware abstraction library
# https://docs.rs/stm32f4xx-hal/0.8.3/stm32f4xx_hal/
stm32f4xx-hal = {version = "0.8", features=["stm32f401", "rt", "usb_fs"]}

# Experimental device-side USB framework
# https://github.com/mvirkkunen/usb-device
usb-device = "0.2.6"

# CDC-ACM USB serial port implementation for usb-device
# https://docs.rs/usbd-serial/0.1.0/usbd_serial/
usbd-serial = "0.1.0"

# ChaCha20Poly1305 (RFC 8439) AEAD
# https://docs.rs/chacha20poly1305/0.6.0/chacha20poly1305/
chacha20poly1305 = {version = "0.6.0", default-features = false, features=["heapless", "reduced-round"]}

[profile.dev]
lto             = true
panic           = "abort"
debug           = true
incremental     = false
codegen-units   = 1
opt-level       = 0

[profile.release]
lto             = true
panic           = "abort"
debug           = true
incremental     = false
codegen-units   = 1
opt-level       = 's'
